*** Starting uWSGI 2.0.28 (64bit) on [Wed Mar 12 15:14:55 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
writing pidfile to uwsgi.pid
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 4
uwsgi socket 0 bound to TCP address 127.0.0.1:41161 (port auto-assigned) fd 3
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2ac4884ea128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-12 15:14:59,891 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-12 15:14:59,891] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-12 15:14:59,891 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-12 15:14:59,891] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 5 seconds on interpreter 0x2ac4884ea128 pid: 22473 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI master process (pid: 22473)
spawned uWSGI worker 1 (pid: 22496, cores: 2)
spawned uWSGI worker 2 (pid: 22499, cores: 2)
spawned uWSGI worker 3 (pid: 22502, cores: 2)
spawned uWSGI worker 4 (pid: 22505, cores: 2)
spawned uWSGI http 1 (pid: 22508)
SIGINT/SIGTERM received...killing workers...
gateway "uWSGI http 1" has been buried (pid: 22508)
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
worker 3 buried after 2 seconds
worker 4 buried after 2 seconds
goodbye to uWSGI.
*** Starting uWSGI 2.0.28 (64bit) on [Wed Mar 12 15:41:07 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
writing pidfile to uwsgi.pid
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 4
uwsgi socket 0 bound to TCP address 127.0.0.1:38710 (port auto-assigned) fd 3
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2b3cb3fc6128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-12 15:41:11,698 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-12 15:41:11,698] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-12 15:41:11,698 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-12 15:41:11,698] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 4 seconds on interpreter 0x2b3cb3fc6128 pid: 26680 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI master process (pid: 26680)
spawned uWSGI worker 1 (pid: 26703, cores: 2)
spawned uWSGI worker 2 (pid: 26706, cores: 2)
spawned uWSGI worker 3 (pid: 26709, cores: 2)
spawned uWSGI worker 4 (pid: 26712, cores: 2)
spawned uWSGI http 1 (pid: 26715)
[pid: 26709|app: 0|req: 1/1] 127.0.0.1 () {36 vars in 674 bytes} [Wed Mar 12 15:43:25 2025] GET / => generated 201 bytes in 5 msecs (HTTP/1.0 302) 3 headers in 102 bytes (1 switches on core 0)
[pid: 26712|app: 0|req: 1/2] 127.0.0.1 () {36 vars in 686 bytes} [Wed Mar 12 15:43:25 2025] GET /verify => generated 3328 bytes in 13 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 0)
[pid: 26709|app: 0|req: 2/3] 127.0.0.1 () {36 vars in 634 bytes} [Wed Mar 12 15:43:25 2025] GET /favicon.ico => generated 207 bytes in 1 msecs (HTTP/1.0 404) 2 headers in 87 bytes (1 switches on core 1)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', 'admin123')])
auth_number: admin
system_key: admin123
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 29, in query
    document = Document.query.filter_by(auth_id=auth.id).order_by(Document.uploaded_at.desc()).first()
                                                ^^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
[pid: 26712|app: 0|req: 2/4] 127.0.0.1 () {46 vars in 867 bytes} [Wed Mar 12 15:43:37 2025] POST /verify => generated 0 bytes in 134 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 1)
[pid: 26712|app: 0|req: 3/5] 127.0.0.1 () {36 vars in 692 bytes} [Wed Mar 12 16:29:10 2025] GET /main/list => generated 209 bytes in 4 msecs (HTTP/1.0 302) 5 headers in 273 bytes (1 switches on core 0)
[pid: 26712|app: 0|req: 4/6] 127.0.0.1 () {38 vars in 830 bytes} [Wed Mar 12 16:29:10 2025] GET /auth/login => generated 2065 bytes in 13 msecs (HTTP/1.0 200) 4 headers in 185 bytes (1 switches on core 1)
[2025-03-12 16:29:18,133] [    INFO] auth.py:18 - Login attempt for user: admin
[2025-03-12 16:29:18,134] [    INFO] auth.py:28 - User admin logged in successfully
[pid: 26712|app: 0|req: 5/7] 127.0.0.1 () {46 vars in 879 bytes} [Wed Mar 12 16:29:18 2025] POST /auth/login => generated 207 bytes in 3 msecs (HTTP/1.0 302) 5 headers in 244 bytes (1 switches on core 0)
2025年1月22日至2025年3月31日  国网积分商城
[pid: 26709|app: 0|req: 3/8] 127.0.0.1 () {42 vars in 879 bytes} [Wed Mar 12 16:29:18 2025] GET /main/list => generated 5785 bytes in 158 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
开始获取:2
[pid: 26712|app: 0|req: 6/9] 127.0.0.1 () {44 vars in 773 bytes} [Wed Mar 12 16:29:22 2025] POST /main/images => generated 134 bytes in 18 msecs (HTTP/1.0 200) 2 headers in 72 bytes (1 switches on core 1)
[pid: 26712|app: 0|req: 7/10] 127.0.0.1 () {40 vars in 857 bytes} [Wed Mar 12 16:29:27 2025] GET /downloadauth/2 => generated 1476099 bytes in 25 msecs (HTTP/1.0 200) 6 headers in 253 bytes (0 switches on core 0)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', 'admin123')])
auth_number: admin
system_key: admin123
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 29, in query
    return redirect(url_for('verify.query'))
                                            ^
AttributeError: 'NoneType' object has no attribute 'id'
[pid: 26709|app: 0|req: 4/11] 127.0.0.1 () {48 vars in 975 bytes} [Wed Mar 12 16:31:05 2025] POST /verify => generated 0 bytes in 24 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 1)
gateway "uWSGI http 1" has been buried (pid: 26715)
...gracefully killing workers...
Gracefully killing worker 3 (pid: 26709)...
Gracefully killing worker 4 (pid: 26712)...
Gracefully killing worker 1 (pid: 26703)...
Gracefully killing worker 2 (pid: 26706)...
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
worker 3 buried after 2 seconds
worker 4 buried after 2 seconds
binary reloading uWSGI...
chdir() to /tmp/auth_system
closing all non-uwsgi socket fds > 2 (max_fd = 1024)...
found fd 3 mapped to socket 0 (127.0.0.1:38710)
running /usr/local/python312/bin/uwsgi
[uWSGI] getting INI configuration from uwsgi.ini
*** Starting uWSGI 2.0.28 (64bit) on [Wed Mar 12 16:38:06 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 5
uwsgi socket 0 bound to TCP address 127.0.0.1:46509 (port auto-assigned) fd 4
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2ba24dab6128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-12 16:38:12,222 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-12 16:38:12,222] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-12 16:38:12,223 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-12 16:38:12,223] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 6 seconds on interpreter 0x2ba24dab6128 pid: 26680 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
gracefully (RE)spawned uWSGI master process (pid: 26680)
spawned uWSGI worker 1 (pid: 29534, cores: 2)
spawned uWSGI worker 2 (pid: 29537, cores: 2)
spawned uWSGI worker 3 (pid: 29540, cores: 2)
spawned uWSGI worker 4 (pid: 29543, cores: 2)
spawned uWSGI http 1 (pid: 29546)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', 'admin123')])
auth_number: admin
system_key: admin123
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 27, in query
    if not auth:
           ^^^^
UnboundLocalError: cannot access local variable 'auth' where it is not associated with a value
[pid: 29540|app: 0|req: 1/1] 127.0.0.1 () {48 vars in 975 bytes} [Wed Mar 12 16:39:32 2025] POST /verify => generated 0 bytes in 12 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 0)
[pid: 29540|app: 0|req: 2/2] 127.0.0.1 () {38 vars in 782 bytes} [Wed Mar 12 16:39:36 2025] GET / => generated 201 bytes in 3 msecs (HTTP/1.0 302) 3 headers in 102 bytes (1 switches on core 1)
[pid: 29543|app: 0|req: 1/3] 127.0.0.1 () {38 vars in 794 bytes} [Wed Mar 12 16:39:36 2025] GET /verify => generated 3328 bytes in 19 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 0)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', '321321')])
auth_number: admin
system_key: 321321
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 27, in query
    if not auth:
           ^^^^
UnboundLocalError: cannot access local variable 'auth' where it is not associated with a value
[pid: 29543|app: 0|req: 2/4] 127.0.0.1 () {48 vars in 975 bytes} [Wed Mar 12 16:39:40 2025] POST /verify => generated 0 bytes in 5 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 1)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', '321321')])
auth_number: admin
system_key: 321321
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 27, in query
    if not auth:
           ^^^^
UnboundLocalError: cannot access local variable 'auth' where it is not associated with a value
[pid: 29543|app: 0|req: 3/5] 127.0.0.1 () {48 vars in 975 bytes} [Wed Mar 12 16:40:03 2025] POST /verify => generated 0 bytes in 4 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 0)
[pid: 29543|app: 0|req: 4/6] 127.0.0.1 () {38 vars in 782 bytes} [Wed Mar 12 16:40:06 2025] GET / => generated 201 bytes in 1 msecs (HTTP/1.0 302) 3 headers in 102 bytes (1 switches on core 1)
[pid: 29534|app: 0|req: 1/7] 127.0.0.1 () {38 vars in 794 bytes} [Wed Mar 12 16:40:06 2025] GET /verify => generated 3328 bytes in 20 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 0)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', 'qewqeq')])
auth_number: admin
system_key: qewqeq
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 27, in query
    if not auth:
           ^^^^
UnboundLocalError: cannot access local variable 'auth' where it is not associated with a value
[pid: 29534|app: 0|req: 2/8] 127.0.0.1 () {48 vars in 973 bytes} [Wed Mar 12 16:40:11 2025] POST /verify => generated 0 bytes in 7 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 1)
gateway "uWSGI http 1" has been buried (pid: 29546)
...gracefully killing workers...
Gracefully killing worker 1 (pid: 29534)...
Gracefully killing worker 3 (pid: 29540)...
Gracefully killing worker 4 (pid: 29543)...
Gracefully killing worker 2 (pid: 29537)...
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
worker 3 buried after 2 seconds
worker 4 buried after 2 seconds
binary reloading uWSGI...
chdir() to /tmp/auth_system
closing all non-uwsgi socket fds > 2 (max_fd = 1024)...
found fd 4 mapped to socket 0 (127.0.0.1:46509)
running /usr/local/python312/bin/uwsgi
[uWSGI] getting INI configuration from uwsgi.ini
*** Starting uWSGI 2.0.28 (64bit) on [Wed Mar 12 16:40:57 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 5
uwsgi socket 0 bound to TCP address 127.0.0.1:35557 (port auto-assigned) fd 3
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2b6ff5676128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-12 16:41:03,065 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-12 16:41:03,065] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-12 16:41:03,066 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-12 16:41:03,066] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 6 seconds on interpreter 0x2b6ff5676128 pid: 26680 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
gracefully (RE)spawned uWSGI master process (pid: 26680)
spawned uWSGI worker 1 (pid: 29714, cores: 2)
spawned uWSGI worker 2 (pid: 29717, cores: 2)
spawned uWSGI worker 3 (pid: 29720, cores: 2)
spawned uWSGI worker 4 (pid: 29723, cores: 2)
spawned uWSGI http 1 (pid: 29726)
[pid: 29723|app: 0|req: 1/1] 127.0.0.1 () {42 vars in 843 bytes} [Wed Mar 12 16:41:09 2025] GET / => generated 201 bytes in 7 msecs (HTTP/1.0 302) 3 headers in 102 bytes (1 switches on core 0)
[pid: 29723|app: 0|req: 2/2] 127.0.0.1 () {42 vars in 855 bytes} [Wed Mar 12 16:41:09 2025] GET /verify => generated 3328 bytes in 13 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 1)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', '321321')])
auth_number: admin
system_key: 321321
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 27, in query
    if not auth:
           ^^^^
UnboundLocalError: cannot access local variable 'auth' where it is not associated with a value
[pid: 29720|app: 0|req: 1/3] 127.0.0.1 () {48 vars in 974 bytes} [Wed Mar 12 16:41:14 2025] POST /verify => generated 0 bytes in 13 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 0)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'J3020250220100080'), ('system_key', '449b664a423e9ec4')])
auth_number: J3020250220100080
system_key: 449b664a423e9ec4
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/verify.py", line 27, in query
    if not auth:
           ^^^^
UnboundLocalError: cannot access local variable 'auth' where it is not associated with a value
[pid: 29720|app: 0|req: 2/4] 127.0.0.1 () {48 vars in 974 bytes} [Wed Mar 12 16:41:32 2025] POST /verify => generated 0 bytes in 4 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 1)
[pid: 29720|app: 0|req: 3/5] 127.0.0.1 () {42 vars in 843 bytes} [Wed Mar 12 16:41:57 2025] GET / => generated 201 bytes in 3 msecs (HTTP/1.0 302) 3 headers in 102 bytes (1 switches on core 0)
[pid: 29723|app: 0|req: 3/6] 127.0.0.1 () {42 vars in 855 bytes} [Wed Mar 12 16:41:57 2025] GET /verify => generated 3328 bytes in 1 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 0)
SIGINT/SIGTERM received...killing workers...
gateway "uWSGI http 1" has been buried (pid: 29726)
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
worker 3 buried after 2 seconds
worker 4 buried after 2 seconds
goodbye to uWSGI.
*** Starting uWSGI 2.0.28 (64bit) on [Wed Mar 12 17:04:40 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
writing pidfile to uwsgi.pid
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 4
uwsgi socket 0 bound to TCP address 127.0.0.1:43883 (port auto-assigned) fd 3
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2b716c0e6128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-12 17:04:44,880 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-12 17:04:44,880] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-12 17:04:44,880 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-12 17:04:44,880] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 5 seconds on interpreter 0x2b716c0e6128 pid: 30984 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI master process (pid: 30984)
spawned uWSGI worker 1 (pid: 31008, cores: 2)
spawned uWSGI worker 2 (pid: 31011, cores: 2)
spawned uWSGI worker 3 (pid: 31014, cores: 2)
spawned uWSGI worker 4 (pid: 31017, cores: 2)
spawned uWSGI http 1 (pid: 31020)
[pid: 31017|app: 0|req: 1/1] 127.0.0.1 () {38 vars in 793 bytes} [Wed Mar 12 17:05:01 2025] GET /verify => generated 3328 bytes in 13 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 0)
接收到的表单数据: ImmutableMultiDict([('auth_number', 'admin'), ('system_key', '31')])
auth_number: admin
system_key: 31
[pid: 31017|app: 0|req: 2/2] 127.0.0.1 () {48 vars in 975 bytes} [Wed Mar 12 17:05:05 2025] POST /verify => generated 201 bytes in 178 msecs (HTTP/1.0 302) 5 headers in 348 bytes (1 switches on core 1)
[pid: 31017|app: 0|req: 3/3] 127.0.0.1 () {42 vars in 976 bytes} [Wed Mar 12 17:05:05 2025] GET /verify => generated 3459 bytes in 1 msecs (HTTP/1.0 200) 4 headers in 220 bytes (1 switches on core 0)
gateway "uWSGI http 1" has been buried (pid: 31020)
...gracefully killing workers...
Gracefully killing worker 1 (pid: 31008)...
Gracefully killing worker 3 (pid: 31014)...
Gracefully killing worker 4 (pid: 31017)...
Gracefully killing worker 2 (pid: 31011)...
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
worker 3 buried after 2 seconds
worker 4 buried after 2 seconds
binary reloading uWSGI...
chdir() to /tmp/auth_system
closing all non-uwsgi socket fds > 2 (max_fd = 1024)...
found fd 3 mapped to socket 0 (127.0.0.1:43883)
running /usr/local/python312/bin/uwsgi
[uWSGI] getting INI configuration from uwsgi.ini
*** Starting uWSGI 2.0.28 (64bit) on [Wed Mar 12 17:08:34 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 5
uwsgi socket 0 bound to TCP address 127.0.0.1:35447 (port auto-assigned) fd 4
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2b35e1ea0128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-12 17:08:38,464 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-12 17:08:38,464] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-12 17:08:38,465 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-12 17:08:38,465] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 4 seconds on interpreter 0x2b35e1ea0128 pid: 30984 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
gracefully (RE)spawned uWSGI master process (pid: 30984)
spawned uWSGI worker 1 (pid: 31232, cores: 2)
Python auto-reloader enabled
spawned uWSGI worker 2 (pid: 31236, cores: 2)
spawned uWSGI worker 3 (pid: 31240, cores: 2)
spawned uWSGI worker 4 (pid: 31244, cores: 2)
spawned uWSGI http 1 (pid: 31248)
[pid: 31240|app: 0|req: 1/1] 127.0.0.1 () {40 vars in 825 bytes} [Thu Mar 13 08:47:44 2025] GET /verify => generated 3328 bytes in 31 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 0)
[pid: 31244|app: 0|req: 1/2] 127.0.0.1 () {38 vars in 742 bytes} [Thu Mar 13 08:47:44 2025] GET /favicon.ico => generated 207 bytes in 11 msecs (HTTP/1.0 404) 2 headers in 87 bytes (1 switches on core 0)
2025年1月22日至2025年3月31日  国网积分商城
[pid: 31244|app: 0|req: 2/3] 127.0.0.1 () {38 vars in 800 bytes} [Thu Mar 13 08:47:57 2025] GET /main/list => generated 5785 bytes in 144 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 1)
[pid: 31244|app: 0|req: 3/4] 127.0.0.1 () {40 vars in 851 bytes} [Thu Mar 13 09:47:41 2025] GET /upload-page => generated 4217 bytes in 10 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
9746484b1c564ca4
[pid: 31244|app: 0|req: 4/5] 127.0.0.1 () {44 vars in 777 bytes} [Thu Mar 13 09:47:45 2025] POST /generate-key => generated 57 bytes in 30 msecs (HTTP/1.0 200) 3 headers in 85 bytes (1 switches on core 1)
/tmp/auth_system/app/static/uploads/20250307093639.png
[2025/03/13 09:47:55] ppocr DEBUG: Namespace(help='==SUPPRESS==', use_gpu=False, use_xpu=False, use_npu=False, use_mlu=False, ir_optim=True, use_tensorrt=False, min_subgraph_size=15, precision='fp32', gpu_mem=500, gpu_id=0, image_dir=None, page_num=0, det_algorithm='DB', det_model_dir='/root/.paddleocr/whl/det/ch/ch_PP-OCRv4_det_infer', det_limit_side_len=960, det_limit_type='max', det_box_type='quad', det_db_thresh=0.3, det_db_box_thresh=0.6, det_db_unclip_ratio=1.5, max_batch_size=10, use_dilation=False, det_db_score_mode='fast', det_east_score_thresh=0.8, det_east_cover_thresh=0.1, det_east_nms_thresh=0.2, det_sast_score_thresh=0.5, det_sast_nms_thresh=0.2, det_pse_thresh=0, det_pse_box_thresh=0.85, det_pse_min_area=16, det_pse_scale=1, scales=[8, 16, 32], alpha=1.0, beta=1.0, fourier_degree=5, rec_algorithm='SVTR_LCNet', rec_model_dir='/root/.paddleocr/whl/rec/ch/ch_PP-OCRv4_rec_infer', rec_image_inverse=True, rec_image_shape='3, 48, 320', rec_batch_num=6, max_text_length=25, rec_char_dict_path='/usr/local/python312/lib/python3.12/site-packages/paddleocr/ppocr/utils/ppocr_keys_v1.txt', use_space_char=True, vis_font_path='./doc/fonts/simfang.ttf', drop_score=0.5, e2e_algorithm='PGNet', e2e_model_dir=None, e2e_limit_side_len=768, e2e_limit_type='max', e2e_pgnet_score_thresh=0.5, e2e_char_dict_path='./ppocr/utils/ic15_dict.txt', e2e_pgnet_valid_set='totaltext', e2e_pgnet_mode='fast', use_angle_cls=True, cls_model_dir='/root/.paddleocr/whl/cls/ch_ppocr_mobile_v2.0_cls_infer', cls_image_shape='3, 48, 192', label_list=['0', '180'], cls_batch_num=6, cls_thresh=0.9, enable_mkldnn=False, cpu_threads=10, use_pdserving=False, warmup=False, sr_model_dir=None, sr_image_shape='3, 32, 128', sr_batch_num=1, draw_img_save_dir='./inference_results', save_crop_res=False, crop_res_save_dir='./output', use_mp=False, total_process_num=1, process_id=0, benchmark=False, save_log_path='./log_output/', show_log=True, use_onnx=False, return_word_box=False, output='./output', table_max_len=488, table_algorithm='TableAttn', table_model_dir=None, merge_no_span_structure=True, table_char_dict_path=None, formula_algorithm='LaTeXOCR', formula_model_dir=None, formula_char_dict_path=None, formula_batch_num=1, layout_model_dir=None, layout_dict_path=None, layout_score_threshold=0.5, layout_nms_threshold=0.5, kie_algorithm='LayoutXLM', ser_model_dir=None, re_model_dir=None, use_visual_backbone=True, ser_dict_path='../train_data/XFUND/class_list_xfun.txt', ocr_order_method=None, mode='structure', image_orientation=False, layout=True, table=True, formula=False, ocr=True, recovery=False, recovery_to_markdown=False, use_pdf2docx_api=False, invert=False, binarize=False, alphacolor=(255, 255, 255), lang='ch', det=True, rec=True, type='ocr', savefile=False, ocr_version='PP-OCRv4', structure_version='PP-StructureV2')
[2025/03/13 09:47:56] ppocr DEBUG: dt_boxes num : 22, elapsed : 0.6660330295562744
[2025/03/13 09:47:57] ppocr DEBUG: cls num  : 22, elapsed : 0.26561856269836426
[2025/03/13 09:48:05] ppocr DEBUG: rec_res num  : 22, elapsed : 8.570413827896118
{'company': '', 'channel': '京东慧采平台', 'brand': None, 'valid_period': '2025年3月1日至2025年12月31日'}
[pid: 31244|app: 0|req: 5/6] 127.0.0.1 () {44 vars in 821 bytes} [Thu Mar 13 09:47:55 2025] POST /upload => generated 325 bytes in 10476 msecs (HTTP/1.0 200) 3 headers in 86 bytes (1 switches on core 0)
[pid: 31244|app: 0|req: 6/7] 127.0.0.1 () {44 vars in 776 bytes} [Thu Mar 13 09:49:04 2025] POST /submit-auth => generated 22 bytes in 43 msecs (HTTP/1.0 200) 3 headers in 85 bytes (1 switches on core 1)
2025年3月1日至2025年12月31日  京东慧采平台
2025年1月22日至2025年3月31日  国网积分商城
[pid: 31244|app: 0|req: 7/8] 127.0.0.1 () {40 vars in 849 bytes} [Thu Mar 13 09:49:06 2025] GET /main/list => generated 6862 bytes in 60 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
开始获取:3
[pid: 31244|app: 0|req: 8/9] 127.0.0.1 () {44 vars in 773 bytes} [Thu Mar 13 09:49:09 2025] POST /main/images => generated 82 bytes in 25 msecs (HTTP/1.0 200) 2 headers in 71 bytes (1 switches on core 1)
[pid: 31244|app: 0|req: 9/10] 127.0.0.1 () {44 vars in 772 bytes} [Thu Mar 13 09:49:36 2025] POST /updateauth => generated 22 bytes in 296 msecs (HTTP/1.0 200) 3 headers in 85 bytes (1 switches on core 0)
2025年3月1日至2025年12月31日  京东慧采平台
2025年1月22日至2025年3月31日  国网积分商城
[pid: 31244|app: 0|req: 10/11] 127.0.0.1 () {42 vars in 878 bytes} [Thu Mar 13 09:49:37 2025] GET /main/list => generated 6880 bytes in 21 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 1)
[pid: 31240|app: 0|req: 2/12] 127.0.0.1 () {40 vars in 851 bytes} [Thu Mar 13 09:49:44 2025] GET /upload-page => generated 4217 bytes in 13 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 1)
2025年3月1日至2025年12月31日  京东慧采平台
2025年1月22日至2025年3月31日  国网积分商城
[pid: 31244|app: 0|req: 11/13] 127.0.0.1 () {40 vars in 849 bytes} [Thu Mar 13 09:49:45 2025] GET /main/list => generated 6880 bytes in 16 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
[pid: 31240|app: 0|req: 3/14] 127.0.0.1 () {36 vars in 674 bytes} [Thu Mar 13 09:50:45 2025] GET / => generated 201 bytes in 1 msecs (HTTP/1.0 302) 3 headers in 102 bytes (1 switches on core 0)
[pid: 31244|app: 0|req: 12/15] 127.0.0.1 () {36 vars in 686 bytes} [Thu Mar 13 09:50:45 2025] GET /verify => generated 3328 bytes in 4 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 1)
[pid: 31244|app: 0|req: 13/16] 127.0.0.1 () {36 vars in 682 bytes} [Thu Mar 13 09:50:54 2025] GET /auth => generated 207 bytes in 0 msecs (HTTP/1.0 404) 2 headers in 87 bytes (1 switches on core 0)
[pid: 31232|app: 0|req: 1/17] 127.0.0.1 () {36 vars in 694 bytes} [Thu Mar 13 09:51:01 2025] GET /auth/login => generated 1847 bytes in 19 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
[2025-03-13 09:51:10,374] [    INFO] auth.py:18 - Login attempt for user: admin
[2025-03-13 09:51:10,374] [    INFO] auth.py:28 - User admin logged in successfully
[pid: 31244|app: 0|req: 14/18] 127.0.0.1 () {46 vars in 879 bytes} [Thu Mar 13 09:51:10 2025] POST /auth/login => generated 207 bytes in 2 msecs (HTTP/1.0 302) 5 headers in 244 bytes (1 switches on core 1)
2025年3月1日至2025年12月31日  京东慧采平台
2025年1月22日至2025年3月31日  国网积分商城
[pid: 31244|app: 0|req: 15/19] 127.0.0.1 () {42 vars in 879 bytes} [Thu Mar 13 09:51:10 2025] GET /main/list => generated 6880 bytes in 21 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
[pid: 31240|app: 0|req: 4/20] 127.0.0.1 () {40 vars in 863 bytes} [Thu Mar 13 09:51:16 2025] GET /download_template => generated 15200 bytes in 5 msecs via sendfile() (HTTP/1.0 200) 7 headers in 391 bytes (0 switches on core 1)
[pid: 31240|app: 0|req: 5/21] 127.0.0.1 () {40 vars in 853 bytes} [Thu Mar 13 09:51:25 2025] GET /export-excel => generated 5760 bytes in 397 msecs via sendfile() (HTTP/1.0 200) 8 headers in 436 bytes (0 switches on core 0)
[pid: 31244|app: 0|req: 16/22] 127.0.0.1 () {38 vars in 794 bytes} [Thu Mar 13 09:53:38 2025] GET /verify => generated 3328 bytes in 1 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 1)
[uwsgi-python-reloader] module/file /tmp/auth_system/config.py has been modified
gateway "uWSGI http 1" has been buried (pid: 31248)
...gracefully killing workers...
Gracefully killing worker 3 (pid: 31240)...
Gracefully killing worker 2 (pid: 31236)...
Gracefully killing worker 1 (pid: 31232)...
Gracefully killing worker 4 (pid: 31244)...
worker 3 buried after 1 seconds
worker 4 buried after 1 seconds
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
binary reloading uWSGI...
chdir() to /tmp/auth_system
closing all non-uwsgi socket fds > 2 (max_fd = 1024)...
found fd 4 mapped to socket 0 (127.0.0.1:35447)
running /usr/local/python312/bin/uwsgi
[uWSGI] getting INI configuration from uwsgi.ini
*** Starting uWSGI 2.0.28 (64bit) on [Thu Mar 13 10:58:48 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 5
uwsgi socket 0 bound to TCP address 127.0.0.1:36065 (port auto-assigned) fd 3
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2b8d7d7e6128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-13 10:58:52,924 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-13 10:58:52,924] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-13 10:58:52,925 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-13 10:58:52,925] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 5 seconds on interpreter 0x2b8d7d7e6128 pid: 30984 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
gracefully (RE)spawned uWSGI master process (pid: 30984)
spawned uWSGI worker 1 (pid: 22768, cores: 2)
Python auto-reloader enabled
spawned uWSGI worker 2 (pid: 22772, cores: 2)
spawned uWSGI worker 3 (pid: 22776, cores: 2)
spawned uWSGI worker 4 (pid: 22780, cores: 2)
spawned uWSGI http 1 (pid: 22784)
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.ProgrammingError: (1146, "Table 'auth_system.authorization' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/utils/decorators.py", line 10, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/main.py", line 47, in list
    authorizations = query.order_by(Authorization.created_at.desc()).all()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.ProgrammingError: (MySQLdb.ProgrammingError) (1146, "Table 'auth_system.authorization' doesn't exist")
[SQL: SELECT authorization.id AS authorization_id, authorization.auth_number AS authorization_auth_number, authorization.company AS authorization_company, authorization.brand AS authorization_brand, authorization.channel AS authorization_channel, authorization.valid_period AS authorization_valid_period, authorization.status AS authorization_status, authorization.system_key AS authorization_system_key, authorization.created_at AS authorization_created_at 
FROM authorization ORDER BY authorization.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
[pid: 22780|app: 0|req: 1/1] 127.0.0.1 () {38 vars in 800 bytes} [Thu Mar 13 10:59:57 2025] GET /main/list => generated 0 bytes in 48 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 0)
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.ProgrammingError: (1146, "Table 'auth_system.authorization' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/utils/decorators.py", line 10, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/main.py", line 47, in list
    authorizations = query.order_by(Authorization.created_at.desc()).all()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.ProgrammingError: (MySQLdb.ProgrammingError) (1146, "Table 'auth_system.authorization' doesn't exist")
[SQL: SELECT authorization.id AS authorization_id, authorization.auth_number AS authorization_auth_number, authorization.company AS authorization_company, authorization.brand AS authorization_brand, authorization.channel AS authorization_channel, authorization.valid_period AS authorization_valid_period, authorization.status AS authorization_status, authorization.system_key AS authorization_system_key, authorization.created_at AS authorization_created_at 
FROM authorization ORDER BY authorization.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
[pid: 22776|app: 0|req: 1/2] 127.0.0.1 () {40 vars in 831 bytes} [Thu Mar 13 11:00:02 2025] GET /main/list => generated 0 bytes in 47 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 0)
gateway "uWSGI http 1" has been buried (pid: 22784)
...gracefully killing workers...
Gracefully killing worker 1 (pid: 22768)...
Gracefully killing worker 2 (pid: 22772)...
Gracefully killing worker 3 (pid: 22776)...
Gracefully killing worker 4 (pid: 22780)...
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
worker 3 buried after 2 seconds
worker 4 buried after 2 seconds
binary reloading uWSGI...
chdir() to /tmp/auth_system
closing all non-uwsgi socket fds > 2 (max_fd = 1024)...
found fd 3 mapped to socket 0 (127.0.0.1:36065)
running /usr/local/python312/bin/uwsgi
[uWSGI] getting INI configuration from uwsgi.ini
*** Starting uWSGI 2.0.28 (64bit) on [Thu Mar 13 11:00:58 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 5
uwsgi socket 0 bound to TCP address 127.0.0.1:46529 (port auto-assigned) fd 4
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2b374ffb4128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-13 11:01:02,518 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-13 11:01:02,518] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-13 11:01:02,518 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-13 11:01:02,518] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 4 seconds on interpreter 0x2b374ffb4128 pid: 30984 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
gracefully (RE)spawned uWSGI master process (pid: 30984)
spawned uWSGI worker 1 (pid: 22927, cores: 2)
Python auto-reloader enabled
spawned uWSGI worker 2 (pid: 22931, cores: 2)
spawned uWSGI worker 3 (pid: 22935, cores: 2)
spawned uWSGI worker 4 (pid: 22939, cores: 2)
spawned uWSGI http 1 (pid: 22943)
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.ProgrammingError: (1146, "Table 'auth_system.authorization' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/utils/decorators.py", line 10, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/main.py", line 47, in list
    authorizations = query.order_by(Authorization.created_at.desc()).all()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.ProgrammingError: (MySQLdb.ProgrammingError) (1146, "Table 'auth_system.authorization' doesn't exist")
[SQL: SELECT authorization.id AS authorization_id, authorization.auth_number AS authorization_auth_number, authorization.company AS authorization_company, authorization.brand AS authorization_brand, authorization.channel AS authorization_channel, authorization.valid_period AS authorization_valid_period, authorization.status AS authorization_status, authorization.system_key AS authorization_system_key, authorization.created_at AS authorization_created_at 
FROM authorization ORDER BY authorization.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
[pid: 22939|app: 0|req: 1/1] 127.0.0.1 () {40 vars in 831 bytes} [Thu Mar 13 11:01:39 2025] GET /main/list => generated 0 bytes in 46 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 0)
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.ProgrammingError: (1146, "Table 'auth_system.authorization' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/utils/decorators.py", line 10, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/main.py", line 47, in list
    authorizations = query.order_by(Authorization.created_at.desc()).all()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.ProgrammingError: (MySQLdb.ProgrammingError) (1146, "Table 'auth_system.authorization' doesn't exist")
[SQL: SELECT authorization.id AS authorization_id, authorization.auth_number AS authorization_auth_number, authorization.company AS authorization_company, authorization.brand AS authorization_brand, authorization.channel AS authorization_channel, authorization.valid_period AS authorization_valid_period, authorization.status AS authorization_status, authorization.system_key AS authorization_system_key, authorization.created_at AS authorization_created_at 
FROM authorization ORDER BY authorization.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
[pid: 22939|app: 0|req: 2/2] 127.0.0.1 () {40 vars in 831 bytes} [Thu Mar 13 11:01:44 2025] GET /main/list => generated 0 bytes in 13 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 1)
[pid: 22935|app: 0|req: 1/3] 127.0.0.1 () {40 vars in 825 bytes} [Thu Mar 13 11:01:48 2025] GET /verify => generated 3328 bytes in 13 msecs (HTTP/1.0 200) 2 headers in 81 bytes (1 switches on core 0)
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.ProgrammingError: (1146, "Table 'auth_system.authorization' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/utils/decorators.py", line 10, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/main.py", line 47, in list
    authorizations = query.order_by(Authorization.created_at.desc()).all()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.ProgrammingError: (MySQLdb.ProgrammingError) (1146, "Table 'auth_system.authorization' doesn't exist")
[SQL: SELECT authorization.id AS authorization_id, authorization.auth_number AS authorization_auth_number, authorization.company AS authorization_company, authorization.brand AS authorization_brand, authorization.channel AS authorization_channel, authorization.valid_period AS authorization_valid_period, authorization.status AS authorization_status, authorization.system_key AS authorization_system_key, authorization.created_at AS authorization_created_at 
FROM authorization ORDER BY authorization.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
[pid: 22939|app: 0|req: 3/4] 127.0.0.1 () {38 vars in 800 bytes} [Thu Mar 13 11:01:53 2025] GET /main/list => generated 0 bytes in 12 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 0)
Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.ProgrammingError: (1146, "Table 'auth_system.authorization' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/utils/decorators.py", line 10, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/tmp/auth_system/app/routes/main.py", line 47, in list
    authorizations = query.order_by(Authorization.created_at.desc()).all()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/python312/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/cursors.py", line 330, in _query
    db.query(q)
  File "/usr/local/python312/lib/python3.12/site-packages/MySQLdb/connections.py", line 280, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.ProgrammingError: (MySQLdb.ProgrammingError) (1146, "Table 'auth_system.authorization' doesn't exist")
[SQL: SELECT authorization.id AS authorization_id, authorization.auth_number AS authorization_auth_number, authorization.company AS authorization_company, authorization.brand AS authorization_brand, authorization.channel AS authorization_channel, authorization.valid_period AS authorization_valid_period, authorization.status AS authorization_status, authorization.system_key AS authorization_system_key, authorization.created_at AS authorization_created_at 
FROM authorization ORDER BY authorization.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
[pid: 22939|app: 0|req: 4/5] 127.0.0.1 () {40 vars in 831 bytes} [Thu Mar 13 11:07:16 2025] GET /main/list => generated 0 bytes in 18 msecs (HTTP/1.0 500) 0 headers in 0 bytes (0 switches on core 1)
SIGINT/SIGTERM received...killing workers...
gateway "uWSGI http 1" has been buried (pid: 22943)
worker 1 buried after 2 seconds
worker 2 buried after 2 seconds
worker 3 buried after 2 seconds
worker 4 buried after 2 seconds
goodbye to uWSGI.
*** Starting uWSGI 2.0.28 (64bit) on [Thu Mar 13 11:08:52 2025] ***
compiled with version: 9.3.1 20200408 (Red Hat 9.3.1-2) on 12 March 2025 07:13:07
os: Linux-3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020
nodename: nwilliamh.hq.top-china.com
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 4
current working directory: /tmp/auth_system
writing pidfile to uwsgi.pid
detected binary path: /usr/local/python312/bin/uwsgi
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
your processes number limit is 31068
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on 127.0.0.1:5002 fd 4
uwsgi socket 0 bound to TCP address 127.0.0.1:33522 (port auto-assigned) fd 3
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
Python version: 3.12.1 (main, Mar 12 2025, 12:03:37) [GCC 11.2.1 20220127 (Red Hat 11.2.1-9)]
Python main interpreter initialized at 0x2b09373ea128
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
python threads support enabled
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 416880 bytes (407 KB) for 8 cores
*** Operational MODE: preforking+threaded ***
2025-03-13 11:08:56,178 - OCRProcessor - INFO - 日志系统初始化成功
[2025-03-13 11:08:56,178] [    INFO] ocr.py:56 - 日志系统初始化成功
2025-03-13 11:08:56,178 - OCRProcessor - INFO - 日志文件路径: /tmp/auth_system/logs/ocr.log
[2025-03-13 11:08:56,178] [    INFO] ocr.py:57 - 日志文件路径: /tmp/auth_system/logs/ocr.log
2.6.2
WSGI app 0 (mountpoint='') ready in 4 seconds on interpreter 0x2b09373ea128 pid: 23389 (default app)
uWSGI running as root, you can use --uid/--gid/--chroot options
*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** 
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI master process (pid: 23389)
spawned uWSGI worker 1 (pid: 23413, cores: 2)
Python auto-reloader enabled
spawned uWSGI worker 2 (pid: 23417, cores: 2)
spawned uWSGI worker 3 (pid: 23421, cores: 2)
spawned uWSGI worker 4 (pid: 23425, cores: 2)
spawned uWSGI http 1 (pid: 23429)
[pid: 23417|app: 0|req: 1/1] 127.0.0.1 () {38 vars in 798 bytes} [Thu Mar 13 11:09:06 2025] GET /main/list => generated 4594 bytes in 60 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
[pid: 23425|app: 0|req: 1/2] 127.0.0.1 () {40 vars in 846 bytes} [Thu Mar 13 11:09:10 2025] GET /main/list => generated 4594 bytes in 56 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 0)
[pid: 23425|app: 0|req: 2/3] 127.0.0.1 () {40 vars in 850 bytes} [Thu Mar 13 11:09:11 2025] GET /upload-page => generated 4217 bytes in 4 msecs (HTTP/1.0 200) 3 headers in 95 bytes (1 switches on core 1)
